<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Main Fetch functions • fitzRoy</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Main Fetch functions">
<meta property="og:description" content="fitzRoy">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-77406420-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-77406420-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fitzRoy</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fitzRoy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/main-fetch-functions.html">Main Fetch functions</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Workflow Examples</li>
    <li>
      <a href="../articles/womens-stats.html">AFL Womens Example</a>
    </li>
    <li>
      <a href="../articles/elo-ratings-example.html">ELO Ratings Example</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">APIs</li>
    <li>
      <a href="../articles/using-squiggle-api.html">Using the Squiggle API</a>
    </li>
    <li>
      <a href="../articles/using-fryzigg-stats.html">Using Fryzigg API</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jimmyday12/fitzRoy/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="main-fetch-functions_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Main Fetch functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/jimmyday12/fitzRoy/blob/master/vignettes/main-fetch-functions.Rmd"><code>vignettes/main-fetch-functions.Rmd</code></a></small>
      <div class="hidden name"><code>main-fetch-functions.Rmd</code></div>

    </div>

    
    
<p>The goal of fitzRoy has been to provide a consistent and easy to use interface for accessing data from various sources. As of version 0.3.3.9000 of <code>fitzRoy</code>, the package now contains a much more consistent API to do so. This is with the introduction of the main <code>fetch_*</code> functions.</p>
<p>Each function uses the same arguments and each argument should behave the same across all of the functions. While there may be some slight differences in behaviour between different sources of data, the goal will be to move towards a much more consistent pattern of behaviour.</p>
<div id="main-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#main-functions" class="anchor"></a>Main functions</h1>
<p>There are broadly 5 main functions</p>
<ul>
<li>
<code>fetch_fixture</code> - returns the fixture for a given round and season</li>
<li>
<code>fetch_lineup</code> - returns the lineup any matches in a given round and season</li>
<li>
<code>fetch_results</code> - returns the match results for a given round and season</li>
<li>
<code>fetch_ladder</code> - returns the ladder for a given round and season</li>
<li>
<code>fetch_player_stats</code> - returns the detailed player stats for a set of matches within a given round or season</li>
</ul>
</div>
<div id="arguments" class="section level1">
<h1 class="hasAnchor">
<a href="#arguments" class="anchor"></a>Arguments</h1>
<p>Each function accepts 4 arguments. These are consistent between functions and provide sane and common defaults. The common arguments are:</p>
<ul>
<li>
<code>season</code> - the season or seasons to return data from. If NULL (the default), will return the season that matches <code><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date()</a></code>
</li>
<li>
<code>round_number</code>- the round to return data from. If NULL (the default), will return data from all rounds</li>
<li>
<code>source</code> - the source with which to return data from. Must be one of “AFL” (default), “footywire”, “fryzigg”, “afltables”, “squiggle”</li>
<li>
<code>comp</code> - the competition to return data from. Must be one of “AFLM” (default) or “AFLW”. Not all data sources will have AFLW data.</li>
</ul>
</div>
<div id="examples" class="section level1">
<h1 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h1>
<div id="basic-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-usage" class="anchor"></a>Basic Usage</h2>
<p>All of the functions behave the same. The following are some examples using the <code>fetch_fixture</code> function but can equally be applied to any of the family of <code>fetch_</code> functions.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/fetch_fixture.html">fetch_fixture</a></span><span class="op">(</span><span class="fl">2021</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 198 x 46
#&gt;       id providerId   utcStartTime       status  compSeason.id compSeason.provi…
#&gt;    &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;              &lt;chr&gt;           &lt;int&gt; &lt;chr&gt;            
#&gt;  1  2991 CD_M2021014… 2021-03-18T08:25:… SCHEDU…            34 CD_S2021014      
#&gt;  2  2986 CD_M2021014… 2021-03-19T08:50:… SCHEDU…            34 CD_S2021014      
#&gt;  3  2992 CD_M2021014… 2021-03-20T02:45:… SCHEDU…            34 CD_S2021014      
#&gt;  4  2993 CD_M2021014… 2021-03-20T05:35:… SCHEDU…            34 CD_S2021014      
#&gt;  5  2994 CD_M2021014… 2021-03-20T08:25:… SCHEDU…            34 CD_S2021014      
#&gt;  6  2987 CD_M2021014… 2021-03-20T08:45:… SCHEDU…            34 CD_S2021014      
#&gt;  7  2990 CD_M2021014… 2021-03-21T02:10:… SCHEDU…            34 CD_S2021014      
#&gt;  8  2989 CD_M2021014… 2021-03-21T04:20:… SCHEDU…            34 CD_S2021014      
#&gt;  9  2988 CD_M2021014… 2021-03-21T07:10:… SCHEDU…            34 CD_S2021014      
#&gt; 10  2999 CD_M2021014… 2021-03-25T08:20:… SCHEDU…            34 CD_S2021014      
#&gt; # … with 188 more rows, and 40 more variables: compSeason.name &lt;chr&gt;,
#&gt; #   compSeason.shortName &lt;chr&gt;, compSeason.currentRoundNumber &lt;int&gt;,
#&gt; #   round.id &lt;int&gt;, round.providerId &lt;chr&gt;, round.abbreviation &lt;chr&gt;,
#&gt; #   round.name &lt;chr&gt;, round.roundNumber &lt;int&gt;, round.byes &lt;list&gt;,
#&gt; #   home.team.id &lt;int&gt;, home.team.providerId &lt;chr&gt;, home.team.name &lt;chr&gt;,
#&gt; #   home.team.abbreviation &lt;chr&gt;, home.team.nickname &lt;chr&gt;,
#&gt; #   home.team.teamType &lt;chr&gt;, home.team.club.id &lt;int&gt;,
#&gt; #   home.team.club.providerId &lt;chr&gt;, home.team.club.name &lt;chr&gt;,
#&gt; #   home.team.club.abbreviation &lt;chr&gt;, home.team.club.nickname &lt;chr&gt;,
#&gt; #   away.team.id &lt;int&gt;, away.team.providerId &lt;chr&gt;, away.team.name &lt;chr&gt;,
#&gt; #   away.team.abbreviation &lt;chr&gt;, away.team.nickname &lt;chr&gt;,
#&gt; #   away.team.teamType &lt;chr&gt;, away.team.club.id &lt;int&gt;,
#&gt; #   away.team.club.providerId &lt;chr&gt;, away.team.club.name &lt;chr&gt;,
#&gt; #   away.team.club.abbreviation &lt;chr&gt;, away.team.club.nickname &lt;chr&gt;,
#&gt; #   venue.id &lt;int&gt;, venue.providerId &lt;chr&gt;, venue.name &lt;chr&gt;,
#&gt; #   venue.abbreviation &lt;chr&gt;, venue.location &lt;chr&gt;, venue.state &lt;chr&gt;,
#&gt; #   venue.timezone &lt;chr&gt;, metadata.travel_link &lt;chr&gt;, compSeason.year &lt;dbl&gt;</code></pre>
<p>This is the same as</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/fetch_fixture.html">fetch_fixture</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2021</span>, comp <span class="op">=</span> <span class="st">"AFLM"</span>, source <span class="op">=</span> <span class="st">"AFL"</span><span class="op">)</span> </code></pre></div>
<p>We can return just one round instead of the whole fixture.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/fetch_fixture.html">fetch_fixture</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2021</span>, round_number <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">compSeason.name</span>, <span class="va">round.name</span>, <span class="va">home.team.name</span>, <span class="va">away.team.name</span>, <span class="va">venue.name</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 9 x 5
#&gt;   compSeason.name       round.name home.team.name  away.team.name   venue.name  
#&gt;   &lt;chr&gt;                 &lt;chr&gt;      &lt;chr&gt;           &lt;chr&gt;            &lt;chr&gt;       
#&gt; 1 2021 Toyota AFL Prem… Round 2    Carlton         Collingwood      MCG         
#&gt; 2 2021 Toyota AFL Prem… Round 2    Geelong Cats    Brisbane Lions   GMHBA Stadi…
#&gt; 3 2021 Toyota AFL Prem… Round 2    Sydney Swans    Adelaide Crows   SCG         
#&gt; 4 2021 Toyota AFL Prem… Round 2    Port Adelaide   Essendon         Adelaide Ov…
#&gt; 5 2021 Toyota AFL Prem… Round 2    St Kilda        Melbourne        Marvel Stad…
#&gt; 6 2021 Toyota AFL Prem… Round 2    Gold Coast Suns North Melbourne  Metricon St…
#&gt; 7 2021 Toyota AFL Prem… Round 2    Hawthorn        Richmond         MCG         
#&gt; 8 2021 Toyota AFL Prem… Round 2    Western Bulldo… West Coast Eagl… Marvel Stad…
#&gt; 9 2021 Toyota AFL Prem… Round 2    Fremantle       GWS Giants       Optus Stadi…</code></pre>
<p>We could also return the AFLW fixture instead.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/fetch_fixture.html">fetch_fixture</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2021</span>, comp <span class="op">=</span> <span class="st">"AFLW"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">compSeason.name</span>, <span class="va">round.name</span>, 
         <span class="va">home.team.name</span>, <span class="va">away.team.name</span>, 
         <span class="va">venue.name</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 63 x 5
#&gt;    compSeason.name    round.name home.team.name  away.team.name  venue.name     
#&gt;    &lt;chr&gt;              &lt;chr&gt;      &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;          
#&gt;  1 2021 NAB AFLW Com… Round 1    Carlton         Collingwood     Ikon Park      
#&gt;  2 2021 NAB AFLW Com… Round 1    St Kilda        Western Bulldo… RSEA Park      
#&gt;  3 2021 NAB AFLW Com… Round 1    Gold Coast Suns Melbourne       Metricon Stadi…
#&gt;  4 2021 NAB AFLW Com… Round 1    West Coast Eag… Adelaide Crows  Mineral Resour…
#&gt;  5 2021 NAB AFLW Com… Round 1    Geelong Cats    Kangaroos       GMHBA Stadium  
#&gt;  6 2021 NAB AFLW Com… Round 1    Richmond        Brisbane Lions  Swinburne Cent…
#&gt;  7 2021 NAB AFLW Com… Round 1    Fremantle       GWS Giants      Fremantle Oval 
#&gt;  8 2021 NAB AFLW Com… Round 2    Western Bulldo… Carlton         Victoria Unive…
#&gt;  9 2021 NAB AFLW Com… Round 2    Collingwood     Geelong Cats    Victoria Park  
#&gt; 10 2021 NAB AFLW Com… Round 2    Melbourne       Richmond        Casey Fields   
#&gt; # … with 53 more rows</code></pre>
<p>Lastly - we can choose a different source. Note that the field names and even the names of the teams and/or venues will be different for difference sources.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/fetch_fixture.html">fetch_fixture</a></span><span class="op">(</span><span class="fl">2021</span>, round_number <span class="op">=</span> <span class="fl">1</span>, source <span class="op">=</span> <span class="st">"squiggle"</span><span class="op">)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 198 x 24
#&gt;       id hteam  ascore localtime  year is_grand_final updated ateam hscore date 
#&gt;    &lt;int&gt; &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;     &lt;int&gt;          &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;int&gt; &lt;chr&gt;
#&gt;  1  6243 Adela…      0 2021-03-…  2021              0 2020-1… Geel…      0 2021…
#&gt;  2  6245 Brisb…      0 2021-03-…  2021              0 2020-1… Sydn…      0 2021…
#&gt;  3  6241 Colli…      0 2021-03-…  2021              0 2020-1… West…      0 2021…
#&gt;  4  6244 Essen…      0 2021-03-…  2021              0 2020-1… Hawt…      0 2021…
#&gt;  5  6247 Great…      0 2021-03-…  2021              0 2020-1… St K…      0 2021…
#&gt;  6  6242 Melbo…      0 2021-03-…  2021              0 2020-1… Frem…      0 2021…
#&gt;  7  6246 North…      0 2021-03-…  2021              0 2020-1… Port…      0 2021…
#&gt;  8  6240 Richm…      0 2021-03-…  2021              0 2020-1… Carl…      0 2021…
#&gt;  9  6248 West …      0 2021-03-…  2021              0 2020-1… Gold…      0 2021…
#&gt; 10  6249 Carlt…      0 2021-03-…  2021              0 2020-1… Coll…      0 2021…
#&gt; # … with 188 more rows, and 14 more variables: round &lt;int&gt;, tz &lt;chr&gt;,
#&gt; #   hgoals &lt;lgl&gt;, roundname &lt;chr&gt;, is_final &lt;int&gt;, winner &lt;lgl&gt;,
#&gt; #   complete &lt;int&gt;, winnerteamid &lt;lgl&gt;, abehinds &lt;lgl&gt;, ateamid &lt;int&gt;,
#&gt; #   hteamid &lt;int&gt;, hbehinds &lt;lgl&gt;, agoals &lt;lgl&gt;, venue &lt;chr&gt;</code></pre>
<p>It should also be noted that the various sources of data have their own functions that can be called directly.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># The following are the same</span>
<span class="fu"><a href="../reference/fetch_fixture.html">fetch_fixture</a></span><span class="op">(</span><span class="fl">2021</span>, round_number <span class="op">=</span> <span class="fl">5</span>, source <span class="op">=</span> <span class="st">"squiggle"</span><span class="op">)</span>
<span class="fu"><a href="../reference/fetch_fixture.html">fetch_fixture_squiggle</a></span><span class="op">(</span><span class="fl">2021</span>, round_number <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></code></pre></div>
</div>
<div id="womens-data" class="section level2">
<h2 class="hasAnchor">
<a href="#womens-data" class="anchor"></a>Womens Data</h2>
<p>With these new functions we now have access to consistent AFLW data for the first time!</p>
<p>At a high level, any <code>fetch_</code> function will allow you to specify the that <code>comp = "AFLW</code> and will return data. Please note that Womens data only exists when <code>source = "AFL"</code>, which is the default for all <code>fetch_</code> functions.</p>
<p>Read the full <a href="https://jimmyday12.github.io/fitzRoy/articles/womens-stats.html">AFL Womens Vingette</a> for specific examples.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by James Day, Robert Nguyen, Oscar Lane.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
